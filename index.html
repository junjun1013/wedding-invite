<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>김준 ♡ 백수연 모바일 청첩장</title>
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo&family=Noto+Serif+JP&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    body {
      font-family: 'Nanum Myeongjo', 'Noto Serif JP', serif;
      margin: 0;
      background: #fdf8f5;
      color: #444;
      line-height: 1.8;
    }
    .container {
      max-width: 700px;
      margin: auto;
      padding: 1rem;
    }
    section {
      border-bottom: 1px solid #e0dcd8;
      padding: 2rem 1rem;
    }
    h1, h2 {
      text-align: center;
      color: #6b4f3b;
    }
    h1 { font-size: 2.2rem; }
    h2 { font-size: 1.6rem; }
    .lang-switch {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin: 0.5rem 0 0.3rem 0;
    }
    .lang-switch button {
      padding: 0.6rem 1.2rem;
      border: none;
      background: #e6dad1;
      color: #5a4032;
      border-radius: 30px;
      font-size: 1rem;
      cursor: pointer;
    }
    .lang-section { display: none; }
    .lang-section.active { display: block; }
    .form-title::before {
      content: "\1F4CC ";
    }
    .thumbnails-wrapper {
      position: relative;
    }
    .thumbnails::before,
    .thumbnails::after {
      content: "";
      position: absolute;
      top: 0;
      bottom: 0;
      width: 30px;
      z-index: 1;
      pointer-events: none;
    }
    .thumbnails::before {
      left: 0;
      background: linear-gradient(to right, #fdf8f5, rgba(253, 248, 245, 0));
    }
    .thumbnails::after {
      right: 0;
      background: linear-gradient(to left, #fdf8f5, rgba(253, 248, 245, 0));
    }
    .form-title {
      font-weight: bold;
      font-size: 1.1rem;
      margin-top: 1.5rem;
      color: #5a4032;
    }
    .gallery-controls {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.7);
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      z-index: 2;
    }
    .gallery-controls.left { left: 0.5rem; }
    .gallery-controls.right { right: 0.5rem; }
    .thumbnail-slide-container {
      overflow-x: auto;
      white-space: nowrap;
    }
    .thumbnail-slide-container img {
      height: 60px;
      margin: 0 4px;
      border-radius: 8px;
      object-fit: cover;
    }
    .rsvp-button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      background: #6b4f3b;
      color: white;
      padding: 0.8rem 1.4rem;
      font-size: 1rem;
      border: none;
      border-radius: 30px;
      cursor: pointer;
      margin-top: 1rem;
    }
    .rsvp-button i {
      margin-right: 0.5rem;
    }
  </style>
</head>
<body>
  <div class="lang-switch">
    <button onclick="switchLang('ko')"><i class="fas fa-language"></i> 한국어</button>
    <button onclick="switchLang('ja')"><i class="fas fa-globe-asia"></i> 日本語</button>
  </div>

  <div id="ko" class="container lang-section active">
    <section>
      <h2><span style="font-size:0.8rem; color:#c3956b; display:block;">invitation</span>초대합니다</h2>
      <div class="main-image">
        <img src="img/main.jpg" alt="" style="width:100%; display:block; object-fit:cover; margin:0; padding:0;" />
        <h1>김준 ♡ 백수연</h1>
        <p style="text-align:center; margin-top: 0.5rem; font-size: 1.1rem; color: #6b4f3b;">2025년 9월 20일 토요일 11:30 ~ 13:00<br>켄싱턴 호텔 여의도 15F</p>
      </div>
    </section>
    <section>
      <p style="text-align:center">
        김성훈 · 차정은 의 장남    김　준<br>
        백인기 · 박현숙 의 차녀    백수연<br><br>
        저희, 결혼합니다.<br>
        화려하진 않아도, 진심만은 가득 담았습니다.<br>
        편안한 마음으로 와서 축하해 주세요.
      </p>
    </section>
    <section>
      <h2><span style="font-size:0.8rem; color:#c3956b; display:block;">Gallery</span>갤러리</h2>
      <div class="gallery-wrapper">
        <div class="main-image" style="position:relative; text-align:center;">
          <button class="gallery-controls left" onclick="prevImage('ko')">❮</button>
          <img id="main-ko" src="img/photo1.jpg" alt="" style="width:100%; height:400px; object-fit:contain; padding: 20px 0; background:white;" />
          <button class="gallery-controls right" onclick="nextImage('ko')">❯</button>
        </div>
        <div class="thumbnails-wrapper">
          <div class="thumbnails" id="thumbnails-ko" style="display:flex; overflow-x:auto; gap:0.3rem; justify-content:flex-start; padding-bottom:1rem;"></div>
        </div>
      </div>
    </section>
    <section class="map-section">
      <h2 style="text-align:center; font-size:1.6rem;"><span style="font-size:0.8rem; color:#c3956b; display:block;">location</span>찾아오시는 길</h2>
      <p style="text-align:center">서울특별시 영등포구 의사당대로 16<br>켄싱턴 호텔 여의도 15층</p>
      <iframe class="map" style="width:100%; height:300px; border:none; border-radius:10px;" src="https://maps.google.com/maps?q=여의도%20켄싱턴호텔&t=&z=17&ie=UTF8&iwloc=&output=embed"></iframe>
      <p style="text-align:center">
        <a href="https://map.naver.com/v5/search/여의도%20켄싱턴호텔">네이버지도</a> · 
        <a href="https://map.kakao.com/link/map/여의도켄싱턴호텔,37.524135,126.924623">카카오맵</a>
      </p>
    </section>
    <section>
      <h2><span style="font-size:0.8rem; color:#c3956b; display:block;">RSVP</span>참석 여부 전달</h2>
      <form id="rsvp-form-ko">
        <div class="form-title"> 이름</div>
        <input type="text" name="entry.339572739" required>
        <div class="form-title"> 참석 여부</div>
        <label><input type="radio" name="entry.1641509767" value="참석"> 참석</label>
        <label><input type="radio" name="entry.1641509767" value="불참"> 불참</label>
        <div class="form-title"> 동반가족인수(본인제외) </div>
        <input type="number" name="entry.1416977234" min="0">
        <div class="form-title"> 식사 여부 (12:00~13:00 웨딩홀 코스요리 제공예정)</div>
        <label><input type="radio" name="entry.1235960587" value="가능"> 가능</label>
        <label><input type="radio" name="entry.1235960587" value="불가"> 불가</label>
        <div class="form-title"> 메모</div>
<textarea name="entry.1574930353"></textarea><br>
<button type="submit" class="rsvp-button"><i class="fas fa-paper-plane"></i> 제출하기</button>
        <div id="submit-ko-msg" class="submit-message" style="display:none; color:#6b4f3b; font-weight:bold; margin-top:1rem; text-align:center;">제출이 완료되었습니다. 감사합니다!</div>
      </form>
    </section>
   
    <section>
  <h2><span style="font-size:0.8rem; color:#c3956b; display:block;">A Token of blessing</span>신랑 & 신부에게 마음 전하기</h2>
  <div style="text-align:center; margin-top:1rem;">
    <button onclick="showAccount('groom')" style="background:#6b4f3b; color:white; padding:0.8rem 1.4rem; border:none; border-radius:30px; font-size:1rem; cursor:pointer; margin:0.5rem;">
      <i class="fas fa-gift"></i> 신랑측 계좌번호
    </button>
    <button onclick="showAccount('bride')" style="background:#6b4f3b; color:white; padding:0.8rem 1.4rem; border:none; border-radius:30px; font-size:1rem; cursor:pointer; margin:0.5rem;">
      <i class="fas fa-gift"></i> 신부측 계좌번호
    </button>
  </div>
</section>

<div id="account-popup" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:white; border:1px solid #ccc; padding:1rem; border-radius:10px; z-index:9999; width:90%; max-width:400px; box-shadow:0 4px 10px rgba(0,0,0,0.3);">
  <div id="account-list" style="font-size:0.95rem; color:#444;"></div>
  <div style="text-align:center; margin-top:1rem;">
    <button onclick="document.getElementById('account-popup').style.display='none'" style="background:#6b4f3b; color:white; padding:0.5rem 1.2rem; border:none; border-radius:20px; cursor:pointer;">닫기</button>
  </div>
</div>


  </div>

  <div id="ja" class="container lang-section">
    <section>
      <h2><span style="font-size:0.8rem; color:#c3956b; display:block;">invitation</span>ご招待</h2>
      <div class="main-image">
        <img src="img/main_j.jpg" alt="" style="width:100%; display:block; object-fit:cover; margin:0; padding:0;" />
        <h1>金 晙 ♡ 白秀連</h1>
        <p style="text-align:center; margin-top: 0.5rem; font-size: 1.1rem; color: #6b4f3b;">2025年9月20日（土）11:30〜13:00<br>ケンジントンホテル 汝矣島 15階</p>
      </div>
    </section>
    <section>
      <p style="text-align:center">
        Kim Sunghoon・Cha Jungeunの長男　金　晙<br>
        Baek Inki・Park Hyunsookの次女　白秀連<br><br>
        二人で新たな一歩を踏み出します。<br>
        豪華ではありませんが、心を込めて皆さまをお迎えします。<br>
        お越しいただけましたら、何よりの喜びです。
      </p>
    </section>
    <section>
      <h2><span style="font-size:0.8rem; color:#c3956b; display:block;">Gallery</span>ギャラリー</h2>
      <div class="gallery-wrapper">
        <div class="main-image" style="position:relative; text-align:center;">
          <button class="gallery-controls left" onclick="prevImage('ja')">❮</button>
          <img id="main-ja" src="img/photo1.jpg" alt="" style="width:100%; height:400px; object-fit:contain; padding: 20px 0; background:white;" />
          <button class="gallery-controls right" onclick="nextImage('ja')">❯</button>
        </div>
        <div class="thumbnails-wrapper">
          <div class="thumbnails" id="thumbnails-ja" style="display:flex; overflow-x:auto; gap:0.3rem; justify-content:flex-start; padding-bottom:1rem;"></div>
        </div>
      </div>
    </section>
    <section class="map-section">
      <h2 style="text-align:center; font-size:1.6rem;"><span style="font-size:0.8rem; color:#c3956b; display:block;">location</span>アクセス</h2>

      <p style="text-align:center">ソウル特別市 永登浦区 議事堂大路 16<br>ケンジントン ホテル 汝矣島 15階</p>
      <iframe class="map" style="width:100%; height:300px; border:none; border-radius:10px;" src="https://maps.google.com/maps?q=여의도%20켄싱턴호텔&t=&z=17&ie=UTF8&iwloc=&output=embed"></iframe>
      <p style="text-align:center">
        <a href="https://map.naver.com/v5/search/여의도%20켄싱턴호텔">Naver Map</a> · <a href="https://www.google.com/maps?q=여의도+켄싱턴호텔">Google Map</a> · <a href="https://map.kakao.com/link/map/여의도켄싱턴호텔,37.524135,126.924623">Kakao Map</a>
      </p>
    </section>
    <section>
      <h2><span style="font-size:0.8rem; color:#c3956b; display:block;">RSVP</span>出席のご連絡</h2>
      <form id="rsvp-form-ja">
        <div class="form-title"> お名前</div>
        <input type="text" name="entry.339572739" required>
        <div class="form-title"> 出欠</div>
        <label><input type="radio" name="entry.1641509767" value="出席"> ご出席</label>
        <label><input type="radio" name="entry.1641509767" value="欠席"> ご欠席</label>
        <div class="form-title"> 同行家族人数 (本人を除く) </div>
        <input type="number" name="entry.1416977234" min="0">
        <div class="form-title"> 食事有無（12:00〜13:00 ウェディングホールでコース料理提供予定）</div>
        <label><input type="radio" name="entry.1235960587" value="食事あり"> 食事あり</label>
        <label><input type="radio" name="entry.1235960587" value="食事なし"> 食事なし</label>
        <div class="form-title"> メッセージ</div>
       <textarea name="entry.1574930353"></textarea><br>
<button type="submit" class="rsvp-button"><i class="fas fa-paper-plane"></i> 送信する</button>
        <div id="submit-ja-msg" class="submit-message" style="display:none; color:#6b4f3b; font-weight:bold; margin-top:1rem; text-align:center;">送信が完了しました。ありがとうございました！</div>
      </form>
    </section>
  </div>
<script>
let currentIndex = { ko: 0, ja: 0 };
const maxImages = 30;

// loadGallery 내부 로직을 보완하여 broken image 방지 및 next/prev 시 실제 존재하는 이미지만 참조하도록 개선

// 새로운 배열에 로드 성공한 이미지 경로 저장
const galleryImages = { ko: [], ja: [] };

function loadGallery(thumbId, mainId) {
  const thumbs = document.getElementById(thumbId);
  const main = document.getElementById(mainId);
  thumbs.innerHTML = '';
  const lang = thumbId.includes('ko') ? 'ko' : 'ja';
  galleryImages[lang] = [];
  let firstLoaded = false;

  for (let i = 1; i <= maxImages; i++) {
    const path = `img/photo${i}.jpg`;
    const img = new Image();

    img.onload = () => {
      if (!img.complete || img.naturalWidth === 0) return;
      galleryImages[lang].push(path);

      const thumb = document.createElement('img');
      thumb.src = path;
      thumb.alt = `photo${i}`;
      thumb.style.height = '60px';
      thumb.style.cursor = 'pointer';
      thumb.style.borderRadius = '4px';
      thumb.style.marginRight = '0.3rem';
      thumb.onclick = () => {
        main.src = path;
        currentIndex[lang] = galleryImages[lang].indexOf(path);
      };
      thumbs.appendChild(thumb);

      if (!firstLoaded) {
        main.src = path;
        currentIndex[lang] = 0;
        firstLoaded = true;
      }
    };

    img.onerror = () => {
      // broken image 무시
    };

    img.src = path;
  }
}

function nextImage(lang) {
  if (galleryImages[lang].length === 0) return;
  currentIndex[lang] = (currentIndex[lang] + 1) % galleryImages[lang].length;
  document.getElementById(`main-${lang}`).src = galleryImages[lang][currentIndex[lang]];
}

function prevImage(lang) {
  if (galleryImages[lang].length === 0) return;
  currentIndex[lang] = (currentIndex[lang] - 1 + galleryImages[lang].length) % galleryImages[lang].length;
  document.getElementById(`main-${lang}`).src = galleryImages[lang][currentIndex[lang]];
}

// 초기 로딩
loadGallery('thumbnails-ko', 'main-ko');
loadGallery('thumbnails-ja', 'main-ja');
</script>
<script>
document.getElementById("rsvp-form-ja").addEventListener("submit", function(event) {
  event.preventDefault();
  const form = event.target;
  const formData = new FormData(form);
  fetch("https://docs.google.com/forms/d/e/1FAIpQLScn6Tym4qnwrsZhJ_HwweamOF46O1zPeVVYQEoIirJnOdX-iQ/formResponse", {
    method: "POST",
    mode: "no-cors",
    body: formData
  }).then(() => {
    document.getElementById("submit-ja-msg").style.display = "block";
    setTimeout(() => {
      document.getElementById("submit-ja-msg").style.display = "none";
    }, 4000);
    form.reset();
  });
});
</script>
<script>
document.getElementById("rsvp-form-ko").addEventListener("submit", function(event) {
  event.preventDefault();
  const form = event.target;
  const formData = new FormData(form);
  fetch("https://docs.google.com/forms/d/e/1FAIpQLScn6Tym4qnwrsZhJ_HwweamOF46O1zPeVVYQEoIirJnOdX-iQ/formResponse", {
    method: "POST",
    mode: "no-cors",
    body: formData
  }).then(() => {
    document.getElementById("submit-ko-msg").style.display = "block";
    setTimeout(() => {
      document.getElementById("submit-ko-msg").style.display = "none";
    }, 4000);
    form.reset();
  });
});
</script>

  <script>
function updateThumbnailFade(lang) {
  const thumbs = document.getElementById(`thumbnails-${lang}`);
  if (!thumbs) return;
  const scrollLeft = thumbs.scrollLeft;
  const maxScroll = thumbs.scrollWidth - thumbs.clientWidth;
  thumbs.classList.toggle('hide-left', scrollLeft <= 5);
  thumbs.classList.toggle('hide-right', scrollLeft >= maxScroll - 5);
}

['ko', 'ja'].forEach(lang => {
  const thumbs = document.getElementById(`thumbnails-${lang}`);
  if (thumbs) {
    thumbs.addEventListener('scroll', () => updateThumbnailFade(lang));
    window.addEventListener('load', () => updateThumbnailFade(lang));
  }
});
</script>
<script>
function switchLang(lang) {
  document.querySelectorAll('.lang-section').forEach(el => el.classList.remove('active'));
  document.getElementById(lang).classList.add('active');
}
</script>
<script>
function showAccount(type) {
  const popup = document.getElementById("account-popup");
  const list = document.getElementById("account-list");
  let html = "";

  if(type === 'groom') {
    html += renderAccountRow("🤵 신랑 계좌", "29740204110453");
    html += renderAccountRow("👨‍👩‍👦 신랑 혼주 계좌", "61160204043548");
  } else if(type === 'bride') {
    html += renderAccountRow("👰 신부 계좌", "110396971654");
    html += renderAccountRow("👨‍👩‍👧 신부 혼주 계좌", "22703852156138");
    html += renderAccountRow("👩‍👧 신부 혼주 계좌", "22703851097368");
  }

  list.innerHTML = html;
  popup.style.display = 'block';
}

function renderAccountRow(title, account) {
  return `
    <div style="margin-bottom:0.7rem;">
      <div style="display:flex; justify-content:space-between; align-items:center; font-weight:bold;">
        <span>${title}</span>
        <button onclick="copyText('${account}')" style="background:#555; color:white; padding:0.3rem 0.8rem; border:none; border-radius:20px; font-size:0.85rem; cursor:pointer;">복사하기</button>
      </div>
      <div style="margin:0.3rem 0;">${account}</div>
      <div style="height:1px; background:#ddd;"></div>
    </div>
  `;
}

function copyText(text) {
  navigator.clipboard.writeText(text).then(() => {
    alert("계좌번호가 복사되었습니다: " + text);
  }).catch(() => {
    alert("복사 실패. 브라우저 권한을 확인하세요.");
  });
}
</script>

